# 코드 리뷰

**중요**: 반드시 프로젝트 루트의 `.cursorrules` 파일을 먼저 읽고, 팀 코딩 규칙 및 금지 사항을 확인한 후 리뷰하세요.

다음 체크리스트를 기반으로 코드 리뷰를 수행해주세요:

## 1. 코드 품질 체크

### 가독성
- [ ] 변수/함수명이 의미를 명확하게 전달하는가?
- [ ] 중복 코드가 있는가? (DRY 원칙)
- [ ] 함수가 하나의 책임만 가지는가? (SRP)
- [ ] 매직 넘버/문자열이 상수로 정의되었는가?
- [ ] 코드 깊이가 3depth를 초과하지 않는가?

### TypeScript/NestJS 규칙
- [ ] any 타입 사용을 최소화했는가?
- [ ] interface/type이 적절히 사용되었는가?
- [ ] DTO에 class-validator가 적용되었는가?
- [ ] Service 레이어에 비즈니스 로직이 집중되어 있는가?
- [ ] Controller가 얇게 유지되는가?
- [ ] 의존성 주입(DI)이 제대로 사용되었는가?

### 네이밍 컨벤션
- [ ] 파일명: kebab-case
- [ ] 클래스명: PascalCase
- [ ] 함수/변수명: camelCase
- [ ] 상수: UPPER_SNAKE_CASE

## 2. 에러 처리 및 로깅

### 에러 처리
- [ ] try-catch가 적절한 위치에만 사용되었는가?
- [ ] 에러 메시지가 의미 있는가?
- [ ] HttpException이 적절히 사용되었는가?
- [ ] Early Return 패턴을 사용했는가?

### 로깅
- [ ] console.log가 제거되었는가? (로거 사용)
- [ ] 민감 정보(비밀번호, 토큰)가 로그에 포함되지 않았는가?
- [ ] 로그 레벨이 적절한가? (error, warn, info, debug)
- [ ] 중요한 비즈니스 로직에 로깅이 있는가?

## 3. 비동기 처리

- [ ] async/await를 사용했는가? (Promise.then 지양)
- [ ] 병렬 처리 가능한 작업에 Promise.all을 사용했는가?
- [ ] 에러 핸들링이 누락되지 않았는가?
- [ ] 불필요한 await가 없는가?

## 4. 테스트

- [ ] 테스트 코드가 작성되었는가?
- [ ] 테스트가 AAA 패턴을 따르는가? (Arrange, Act, Assert)
- [ ] 테스트 함수명이 한글로 명확하게 작성되었는가?
- [ ] 엣지 케이스가 테스트되었는가?
- [ ] Mock 사용이 최소화되었는가?

## 5. 보안

- [ ] SQL Injection 취약점이 없는가?
- [ ] XSS 취약점이 없는가?
- [ ] 민감 정보가 하드코딩되지 않았는가?
- [ ] 입력 값 검증이 제대로 되었는가?
- [ ] 인증/인가가 적절히 구현되었는가?

## 6. 성능

- [ ] N+1 쿼리 문제가 없는가?
- [ ] 불필요한 DB 쿼리가 없는가?
- [ ] 메모리 누수 가능성이 없는가?
- [ ] 대용량 데이터 처리 시 pagination이 적용되었는가?

## 7. Git 및 문서

- [ ] 커밋 메시지가 규칙에 맞는가?
- [ ] 불필요한 파일이 커밋되지 않았는가? (node_modules, .env 등)
- [ ] API 변경 시 문서가 업데이트되었는가?
- [ ] 복잡한 로직에 주석이 있는가? ('왜'를 설명)

## 리뷰 결과 작성

위 체크리스트를 기반으로 다음 형식으로 리뷰 결과를 작성:

```markdown
## 리뷰 결과

### 👍 잘된 점
- 구체적인 칭찬 포인트 나열

### 🔧 개선이 필요한 부분
- 파일명:라인번호 - 구체적인 개선 제안

### ⚠️ 필수 수정 사항
- 파일명:라인번호 - 반드시 수정해야 할 내용

### 💡 제안 사항
- 더 나은 방향에 대한 제안
```

**리뷰 시 주의사항**:
- 비판보다는 건설적인 피드백 제공
- 구체적인 코드 위치와 개선 방법 제시
- 팀 규칙(.cursorrules)을 기준으로 리뷰
- 작은 것도 놓치지 말고 꼼꼼히 체크
